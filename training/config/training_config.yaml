models:
  # --- 1. Clickbait (Random Forest) ---
  clickbait:
    type: "classification"
    target: "is_clickbait"
    metric: "f1_score"
    test_size: 0.2
    random_state: 42
    labeling:
      engagement_threshold: 0.01
      min_views: 10000
    tuning:
      n_iter: 20
      cv: 3
      params:
        n_estimators: [50, 100, 200]
        max_depth: [5, 10, 20, null]
        min_samples_split: [2, 5, 10]
        class_weight: ["balanced", null]

  # --- 2. Velocity (XGBoost) ---
  velocity:
    type: "regression"
    target: "views"
    metric: "r2_score"
    tuning:
      n_iter: 50
      cv: 3
      params:
        learning_rate: [0.01, 0.05, 0.1, 0.2]
        max_depth: [3, 5, 7]
        n_estimators: [100, 300, 500]
        subsample: [0.7, 0.8, 0.9, 1.0]

  # --- 3. Genre (Keras MLP) ---
  genre:
    type: "classification"
    target: "genre"
    metric: "accuracy"
    test_size: 0.2
    random_state: 42
    pca_candidates: [50, 100, 200, 300]
    training:
      epochs: 20
      batch_size: 32
      patience: 5
    # Text vectorization settings
    vectorizer:
      max_features: 5000
      max_df: 0.95
      min_df: 5

  # --- 4. Tags (Association Rules) ---
  tags:
    type: "association_rules"
    metric: "rule_count"
    # Filters for Apriori
    params:
      min_support: 0.01      # Item must appear in 1% of top videos
      min_threshold: 1.2     # Minimum Lift
      min_confidence: 0.5    # Minimum Confidence
      top_percentile: 0.90   # Definition of "High Performing" video

  # --- 5. Viral Trend (Logistic Regression) ---
  viral:
    type: "classification"
    target: "is_viral"
    metric: "f1_score"
    test_size: 0.2
    tuning:
      n_iter: 10
      cv: 3
      params:
        C: [0.01, 0.1, 1.0, 10.0]
        penalty: ["l2"]

  # --- 6. Anomaly (Isolation Forest) ---
  anomaly:
    type: "unsupervised"
    metric: "anomaly_rate"
    # No train/test split for unsupervised learning typically, but we use strict params
    params:
      contamination: 0.01    # Expected % of anomalies
      n_estimators: 100
      random_state: 42

global:
  hf_repo_id: "Rolaficus/viralvelocity-models"
  min_improvement_threshold: 0.01 # New model must be 1% better to replace